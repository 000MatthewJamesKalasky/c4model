<!DOCTYPE html>
<html lang="en">
<head>
    <title>The C4 model for software architecture</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link href="./css/bootstrap-3.3.2.min.css" rel="stylesheet" media="screen">
    <link href="./css/bootstrap-theme-3.3.2.min.css" rel="stylesheet" media="screen">
    <link href="./css/c4model.css" rel="stylesheet" media="screen">
    <link href='./css/open-sans.css' rel='stylesheet' type='text/css' />

    <script src="./js/jquery-2.0.3.min.js"></script>
    <script src="./js/bootstrap-3.3.2.min.js"></script>
</head>

<body>
    <div id="content">
        <div id="header">
            <h1>The C4 model for software architecture</h1>
            <h2>Context, Containers, Components and Classes (or Code)</h2>
        </div>

        <div id="navigation">
            <a href="#abstractions">Abstractions</a>
            <a href="#coreDiagrams">Core diagrams</a>
            <a href="#supplementaryDiagrams">Supplementary diagrams</a>
            <a href="#notation">Notation</a>
            <a href="#examples">Examples</a>
            <a href="#training">Training</a>
            <a href="#tooling">Tooling</a>
        </div>    

        <div class="section">
            <div class="container">
                <a name="background"></a>
                <h2>Background and history</h2>
                <p>
                    Creating software architecture diagrams is something of a lost art. <a href="http://simonbrown.je">Simon Brown</a> has been running software architecture training courses
                    for a number of years, part of which is a simple architecture kata where groups of people are asked to design a software solution and draw some architecture diagrams to describe it.
                    Based upon the anecdotal evidence from training over 10,000 people in more than 25 countries, software architects and developers struggle with how to communicate software architecture.
                    Even today, the majority of the diagrams from the initial iteration of the architecture kata are typically created using an ad hoc “boxes and lines” notation with no clear notation or semantics.
                </p>

                <div class="row">
                    <div class="col-xs-3 centered">
                        <p>
                            <img src="./img/sketch-1.jpg" alt="A software architecture sketch" class="img-thumbnail" />
                        </p>
                    </div>
                    <div class="col-xs-3 centered">
                        <p>
                            <img src="./img/sketch-2.jpg" alt="A software architecture sketch" class="img-thumbnail" />
                        </p>
                    </div>
                    <div class="col-xs-3 centered">
                        <p>
                            <img src="./img/sketch-3.jpg" alt="A software architecture sketch" class="img-thumbnail" />
                        </p>
                    </div>
                    <div class="col-xs-3 centered">
                        <p>
                            <img src="./img/sketch-4.jpg" alt="A software architecture sketch" class="img-thumbnail" />
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="container">
                <h2>Maps of your code</h2>
                <p>
                    The C4 model was created as a way to help software development teams describe and communicate software architecture, both during up-front design sessions and when retrospectively documenting an existing codebase.
                    It's a way to create <b>maps of your code</b>, at various levels of detail, in the same way you would use something like Google Maps to zoom in and out of an area you are interested in. 
                </p>

                <div class="row">
                    <div class="col-xs-3">
                        <img src="./img/map-1.jpg" alt="Google Street View" class="img-thumbnail" />
                        <p class="mapCaption">
                            Like source code, Google Street View provides a very low-level and accurate view of a location.
                        </p>
                    </div>
                    <div class="col-xs-3">
                        <img src="./img/map-2.jpg" alt="Google Maps" class="img-thumbnail" />
                        <p class="mapCaption">
                            Navigating an unfamilar environment becomes easier if you zoom out though. 
                        </p>
                    </div>
                    <div class="col-xs-3">
                        <img src="./img/map-3.jpg" alt="Google Maps" class="img-thumbnail" />
                        <p class="mapCaption">
                            Zooming out further will provide additional context you might not have been aware of.
                        </p>
                    </div>
                    <div class="col-xs-3">
                        <img src="./img/map-4.jpg" alt="Google Maps" class="img-thumbnail" />
                        <p class="mapCaption">
                            Different levels of zoom allow you to tell different stories to different audiences.
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="container">
                <a name="abstractions"></a>
                <h2>Abstractions</h2>
                <p>
                    In order to create these maps of your code, we first need a common set of abstractions to create a ubiquitous language that we can use to describe the static structure of a software system.
                    The C4 model considers the static structures of a <b>software system</b> in terms of <b>containers</b>, <b>components</b> and <b>classes</b> (or <b>code</b>).
                    And <b>people</b> use the software systems that we build.
                </p>

                <div class="row">
                    <div class="col-xs-6 centered" style="margin-top: 20px">
                        <img src="./img/abstractions.png" alt="Abstractions" class="img-thumbnail" />
                        <p class="caption">
                            <i>A <b>software system</b> is made up of one or more <b>containers</b> (web applications, mobile apps, desktop applications, databases, file systems, etc),
                            each of which contains one or more <b>components</b>,
                            which in turn are implemented by one or more <b>classes</b> (or <b>code</b>).</i>
                        </p>
                    </div>
                    <div class="col-xs-6">
                        <h3>Person</h3>
                        <p class="small">
                            However you think about your users (as actors, roles, personas, etc), people are the various human users of your software system.
                        </p>

                        <h3>Software System</h3>
                        <p class="small">
                            A software system is the highest level of abstraction and describes something that delivers value to its users, whether they are human or not. This includes the software system you are modelling, and the other software systems upon which your software system depends (or vice versa).
                        </p>

                        <h3>Container</h3>
                        <p class="small">
                            A container represents something that hosts code or data. A container is something that needs to
                            be running in order for the overall software system to work. In real terms, a container is something like:
                        </p>
                        
                        <ul class="small">
                            <li><b>Server-side web application</b>: A Java EE web application running on Apache Tomcat, an ASP.NET MVC application running on Microsoft IIS, a Ruby on Rails application running on WEBrick, a Node.js application, etc.</li>
                            <li><b>Client-side web application</b>: A JavaScript application running in a web browser using  Angular, Backbone.JS, jQuery, etc).</li>
                            <li><b>Client-side desktop application</b>: A Windows desktop application written using WPF, an OS X desktop application written using Objective-C, a cross-platform desktop application written using JavaFX, etc.</li>
                            <li><b>Mobile app</b>: An Apple iOS app, an Android app, a Microsoft Windows Phone app, etc.</li>
                            <li><b>Server-side console application</b>: A standalone (e.g. "public static void main") application, a batch process, etc.</li>
                            <li><b>Microservice</b>: A single microservice, hosted in anything from a traditional web server to something like Spring Boot, Dropwizard, etc.</li>
                            <li><b>Database</b>: A schema or database in a relational database management system, document store, graph database, etc such as MySQL, Microsoft SQL Server, Oracle Database, MongoDB, Riak, Cassandra, Neo4j, etc.</li>
                            <li><b>Blob or content store</b>: A blob store (e.g. Amazon S3, Microsoft Azure Blob Storage, etc) or content delivery network (e.g. Akamai, Amazon CloudFront, etc).</li>
                            <li><b>File system</b>: A full local file system or a portion of a larger networked file system (e.g. SAN, NAS, etc).</li>
                            <li><b>Shell script</b>: A single shell script written in Bash, etc.</li>
                            <li><b>etc</b></li>
                        </ul>

                        <p class="small">
                            A container is essentially a context or boundary inside which some code is executed or some data is stored.
                            And each container is a separately deployable/runnable thing or runtime environment.
                        </p>

                        <h3>Component</h3>
                        <p class="small">
                            The word "component" is a hugely overloaded term in the software development industry, but in this context a component is simply a grouping of related functionality encapsulated behind a well-defined interface.
                            If you're using a language like Java or C#, the simplest way to think of a component is that it's a collection of implementation classes behind an interface. Aspects such as how those components are packaged (e.g. one component vs many components per JAR file, DLL, shared library, etc) is a separate and orthogonal concern.
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="container">
                <a name="coreDiagrams"></a>        
                <h2>Core diagrams</h2>
                <p>
                    Visualising this hierarchy of abstractions is then done by creating a collection of <b>Context</b>, <b>Container</b>, <b>Component</b> and (optionally) <b>Class</b> (or <b>Code</b>) diagrams.
                    This is where the C4 model gets its name from.
                </p>

                <div class="row">
                    <div class="col-xs-5 centered">
                        <p style="margin-top: 20px">
                            <a href="./img/diagram-system-context.png"><img src="./img/diagram-system-context.png" alt="A System Context diagram" class="img-thumbnail" /></a>
                        </p>
                        <p class="centered">
                            <a href="./img/diagram-system-context-key.png"><img src="./img/diagram-system-context-key.png" alt="A diagram key" class="img-thumbnail" style="width: 80%" /></a>
                        </p>
                    </div>
                    <div class="col-xs-7">
                        <h3>Level 1: System Context diagram</h3>
                        <p>
                            A System Context diagram is a good starting point for diagramming and documenting a software system,
                            allowing you to step back and see the big picture. Draw a diagram showing your system
                            as a box in the centre, surrounded by its users and the other systems that it interacts with.
                        </p>

                        <p>
                            Detail isn't important here as this is your zoomed out view showing a big picture of the system landscape.
                            The focus should be on people (actors, roles, personas, etc) and software systems rather than technologies,
                            protocols and other low-level details. It's the sort of diagram that you could show to non-technical people.
                        </p>

                        <p class="small">
                            <b>Scope</b>: A single software system.
                        </p>
                        <p class="small">
                            <b>Primary elements</b>: The software system in scope.
                            <br />
                            <b>Supporting elements</b>: People and software systems directly connected to the software system in scope.
                        </p>
                        <p class="small">
                            <b>Intended audience</b>: Technical and non-technical people, inside and outside of the immediate software development team.
                        </p>
                    </div>
                </div>

                <div class="row">
                    <div class="col-xs-5 centered">
                        <p style="margin-top: 20px">
                            <a href="./img/diagram-container.png"><img src="./img/diagram-container.png" alt="A Container diagram" class="img-thumbnail" /></a>
                        </p>
                        <p class="centered">
                            <a href="./img/diagram-container-key.png"><img src="./img/diagram-container-key.png" alt="A diagram key" class="img-thumbnail" style="width: 80%" /></a>
                        </p>
                    </div>
                    <div class="col-xs-7">
                        <h3>Level 2: Container diagram</h3>
                        <p>
                            Once you understand how your system fits in to the overall IT environment, a really useful next step is to zoom-in to the system boundary with a Container diagram.
                            A "container" is something like a web application, desktop application, mobile app, database, file system, etc. Essentially, a container is a separately deployable unit that executes code or stores data.
                        </p>

                        <p>
                            The Container diagram shows the high-level shape of the software architecture and how responsibilities
                            are distributed across it. It also shows the major technology choices and how the containers communicate
                            with one another. It's a simple, high-level technology focussed diagram that is useful for
                            software developers and support/operations staff alike.
                        </p>

                        <p class="small">
                            <b>Scope</b>: A single software system.
                        </p>
                        <p class="small">
                            <b>Primary elements</b>: Containers within the software system in scope.
                            <br />
                            <b>Supporting elements</b>: People and software systems directly connected to the containers.
                        </p>
                        <p class="small">
                            <b>Intended audience</b>: Technical people inside and outside of the immediate software development team; including everybody from software developers through to operations and support staff.
                        </p>
                    </div>
                </div>

                <div class="row">
                    <div class="col-xs-5 centered">
                        <p style="margin-top: 20px">
                            <a href="./img/diagram-component.png"><img src="./img/diagram-component.png" alt="A Component diagram" class="img-thumbnail" /></a>
                        </p>
                        <p class="centered">
                            <a href="./img/diagram-component-key.png"><img src="./img/diagram-component-key.png" alt="A diagram key" class="img-thumbnail" style="width: 80%" /></a>
                        </p>
                    </div>
                    <div class="col-xs-7">
                        <h3>Level 3: Component diagram</h3>
                        <p>
                            Next you can zoom in and decompose each container further to identify the major structural building blocks and their interactions.
                        </p>

                        <p>
                            The Component diagram shows how a container is made up of a number of "components", what each of those
                            components are, their responsibilities and the technology/implementation details.
                        </p>

                        <p class="small">
                            <b>Scope</b>: A single container.
                        </p>
                        <p class="small">
                            <b>Primary elements</b>: Components within the container in scope.
                            <br />
                            <b>Supporting elements</b>: Containers (within the software system in scope) plus people and software systems directly connected to the components.
                        </p>
                        <p class="small">
                            <b>Intended audience</b>: Technical people within the software development team.
                        </p>
                    </div>
                </div>

                <div class="row">
                    <div class="col-xs-5 centered">
                        <p style="margin-top: 20px">
                            <a href="./img/diagram-class.png"><img src="./img/diagram-class.png" alt="A UML class diagram" class="img-thumbnail" /></a>
                        </p>
                    </div>
                    <div class="col-xs-7">
                        <h3>Level 4: Code</h3>
                        <p>
                            Finally, you can zoom in to each component to show how it is implemented as code; using UML class diagrams, entity relationship diagrams or similar.
                        </p>

                        <p>
                            This is an optional level of detail and is often available on-demand from tooling such as IDEs.
                            This level of detail is not recommended for anything but the most important or complex components.
                        </p>

                        <p class="small">
                            <b>Scope</b>: A single component.
                        </p>
                        <p class="small">
                            <b>Primary elements</b>: Code elements (e.g. classes, interfaces, objects, functions, database tables, etc) within the component in scope.
                        </p>
                        <p class="small">
                            <b>Intended audience</b>: Technical people within the software development team.
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="container">
                <a name="supplementaryDiagrams"></a>
                <h2>Supplementary diagrams</h2>
                <p>
                    Once you have a good understanding of the static structure, you can supplement the C4 diagrams to show other aspects.
                </p>

                <div class="row">
                    <div class="col-xs-5 centered">
                        <p style="margin-top: 20px">
                            <a href="./img/diagram-system-landscape.png"><img src="./img/diagram-system-landscape.png" alt="A System Landscape diagram" class="img-thumbnail" /></a>
                        </p>
                        <p class="centered">
                            <a href="./img/diagram-system-landscape-key.png"><img src="./img/diagram-system-landscape-key.png" alt="A diagram key" class="img-thumbnail" style="width: 80%" /></a>
                        </p>
                    </div>
                    <div class="col-xs-7">
                        <h3>System Landscape diagram</h3>
                        <p>
                            The C4 model provides a static view of a <b>single software</b> system but, in the real-world, software systems never live in isolation.
                            For this reason, and particularly if you are responsible for a collection of software systems, it's often useful to understand how all of these software systems fit together within the bounds of an enterprise.
                            To do this, simply add another diagram that sits "on top" of the C4 diagrams, to show the system landscape from an IT perspective. Like the System Context diagram, this diagram can show
                            the organisational boundary, internal/external users and internal/external systems.
                        </p>
                        <p>
                            Essentially this is a high-level map of the software systems at the enterprise level, with a C4 drill-down for each software system of interest. From a practical perspective, a system landscape diagram is really just a system context diagram without a specific focus on a particular software system.
                        </p>
                    </div>
                </div>

                <div class="row">
                    <div class="col-xs-5 centered">
                        <p style="margin-top: 20px">
                            <a href="./img/diagram-dynamic.png"><img src="./img/diagram-dynamic.png" alt="A dynamic diagram" class="img-thumbnail" /></a>
                        </p>
                        <p class="centered">
                            <a href="./img/diagram-dynamic-key.png"><img src="./img/diagram-dynamic-key.png" alt="A diagram key" class="img-thumbnail" style="width: 80%" /></a>
                        </p>
                    </div>
                    <div class="col-xs-7">
                        <h3>Dynamic diagram</h3>
                        <p>
                            A simple dynamic diagram can be useful when you want to show how elements in a static model collaborate at runtime to implement a user story, use case, feature, etc.
                            This dynamic diagram is based upon a <a href="https://en.wikipedia.org/wiki/Communication_diagram">UML communication diagram</a>
                            (previously known as a "UML collaboration diagram"). It is similar to a <a href="https://en.wikipedia.org/wiki/Sequence_diagram">UML sequence diagram</a>
                            although it allows a free-form arrangement of diagram elements with numbered interactions to indicate ordering.
                        </p>
                    </div>
                </div>

                <div class="row">
                    <div class="col-xs-5 centered">
                        <p style="margin-top: 20px">
                            <a href="./img/diagram-deployment.png"><img src="./img/diagram-deployment.png" alt="A deployment diagram" class="img-thumbnail" /></a>
                        </p>
                        <p class="centered">
                            <a href="./img/diagram-deployment-key.png"><img src="./img/diagram-deployment-key.png" alt="A diagram key" class="img-thumbnail" style="width: 80%" /></a>
                        </p>
                    </div>
                    <div class="col-xs-7">
                        <h3>Deployment diagram</h3>
                        <p>
                            A deployment diagram allows you to illustrate how containers in the static model are mapped to infrastructure.
                            This deployment diagram is based upon a <a href="https://en.wikipedia.org/wiki/Deployment_diagram">UML deployment diagram</a>, although simplified slightly to show the mapping between <b>containers</b> and <b>deployment nodes</b>.
                            A deployment node is something like physical infrastructure (e.g. a physical server or device), virtualised infrastructure (e.g. IaaS, PaaS, a virtual machine), containerised infrastructure (e.g. a Docker container), an execution environment (e.g. a database server, Java EE web/application server, Microsoft IIS), etc. Deployment nodes can be nested.
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="container">
                <a name="notation"></a>
                <h2>Notation</h2>
                <p>
                    The C4 model doesn't prescribe any particular notation. A simple notation that works well on whiteboards, paper, sticky notes, index cards and a variety of diagraming tools is as follows.
                </p>

                <div class="row">
                    <div class="col-xs-1">
                    </div>
                    <div class="col-xs-2">
                        <a href="./img/notation-person.png"><img src="./img/notation-person.png" alt="Person" class="img-thumbnail" /></a>
                        <p class="caption">
                            Person
                        </p>
                    </div>
                    <div class="col-xs-2">
                        <a href="./img/notation-software-system.png"><img src="./img/notation-software-system.png" alt="Software System" class="img-thumbnail" /></a>
                        <p class="caption">
                            Software System
                        </p>
                    </div>
                    <div class="col-xs-2">
                        <a href="./img/notation-container.png"><img src="./img/notation-container.png" alt="Container" class="img-thumbnail" /></a>
                        <p class="caption">
                            Container
                        </p>
                    </div>
                    <div class="col-xs-2">
                        <a href="./img/notation-component.png"><img src="./img/notation-component.png" alt="Component" class="img-thumbnail" /></a>
                        <p class="caption">
                            Component
                        </p>
                    </div>
                    <div class="col-xs-2">
                        <a href="./img/notation-relationship.png"><img src="./img/notation-relationship.png" alt="Relationship" class="img-thumbnail" /></a>
                        <p class="caption">
                            Relationship
                        </p>
                    </div>
                    <div class="col-xs-1">
                    </div>
                </div>

                <p>
                    You can then use colour and shapes to supplement the diagram, either to add additional information or simply to make the diagram more aesthetically pleasing.
                </p>

                <h3>C4 and UML</h3>
                <p>
                    Although the example diagrams above are created using a "boxes and lines" notation,
                    the core diagrams can be illustrated using UML with the appropriate use of packages, components and stereotypes. The resulting UML diagrams do tend to lack the same degree of descriptive text though, because adding such text isn't possible (or easy) with some UML tools.
                </p>

                <div class="row">
                    <div class="col-xs-4">
                        <a href="./img/spring-petclinic-system-context.png"><img src="./img/spring-petclinic-system-context.png" alt="A system context diagram" class="img-thumbnail grayscale" /></a>
                    </div>
                    <div class="col-xs-4">
                        <a href="./img/spring-petclinic-containers.png"><img src="./img/spring-petclinic-containers.png" alt="A container diagram" class="img-thumbnail grayscale" /></a>
                    </div>
                    <div class="col-xs-4">
                        <a href="./img/spring-petclinic-components.png"><img src="./img/spring-petclinic-components.png" alt="A component diagram" class="img-thumbnail grayscale" /></a>
                    </div>
                </div>

                <div class="row">
                    <div class="col-xs-4 centered small">
                        System Context diagram
                    </div>
                    <div class="col-xs-4 centered small">
                        Container diagram
                    </div>
                    <div class="col-xs-4 centered small">
                        Component diagram
                    </div>
                </div>

                <div class="row">
                    <div class="col-xs-4">
                        <a href="./img/spring-petclinic-system-context-plantuml.png"><img src="./img/spring-petclinic-system-context-plantuml.png" alt="A system context diagram" class="img-thumbnail grayscale" /></a>
                    </div>
                    <div class="col-xs-4">
                        <a href="./img/spring-petclinic-containers-plantuml.png"><img src="./img/spring-petclinic-containers-plantuml.png" alt="A container diagram" class="img-thumbnail grayscale" /></a>
                    </div>
                    <div class="col-xs-4">
                        <a href="./img/spring-petclinic-components-plantuml.png"><img src="./img/spring-petclinic-components-plantuml.png" alt="A component diagram" class="img-thumbnail grayscale" /></a>
                    </div>
                </div>

                <div class="row">
                    <div class="col-xs-4">
                        <a href="./img/spring-petclinic-system-context-staruml.png"><img src="./img/spring-petclinic-system-context-staruml.png" alt="A system context diagram" class="img-thumbnail grayscale" /></a>
                    </div>
                    <div class="col-xs-4">
                        <a href="./img/spring-petclinic-containers-staruml.png"><img src="./img/spring-petclinic-containers-staruml.png" alt="A container diagram" class="img-thumbnail grayscale" /></a>
                    </div>
                    <div class="col-xs-4">
                        <a href="./img/spring-petclinic-components-staruml.png"><img src="./img/spring-petclinic-components-staruml.png" alt="A component diagram" class="img-thumbnail grayscale" /></a>
                    </div>
                </div>

                <h3>Diagram key/legend</h3>
                <p>
                    Any notation used should be as self-describing as possible, but <b>all diagrams should have a key/legend</b> to make the notation explicit.
                    This applies to diagrams created with notations like UML, ArchiMate and SysML too, as not everybody will know the notation being used.
                </p>

                <p class="centered">
                    <a href="./img/diagram-key.png"><img src="./img/diagram-key.png" alt="Diagram key" class="img-thumbnail" style="width: 80%" /></a>                        
                </p>

                <h3>Notation, notation, notation</h3>
                <p>
                    Although the C4 model is an abstraction-first approach and notation independent, you still need to ensure that your diagram notation makes sense,
                    and that the diagrams are comprehensible.
                    A good way to think about this is to ask yourself whether each diagram can stand alone, and be
                    (mostly) understood without a narrative. Here are some recommendations related to notation.
                </p>                        
                <div class="row">
                    <div class="col-xs-4">
                        <h4>Diagrams</h4>
                        <ul style="line-height: 150%">
                            <li>Every diagram should have a title describing the diagram type and scope (e.g. "System Context diagram for My Software System").</li>
                            <li>Every diagram should have a key/legend explaining the notation being used (e.g. shapes, colours, border styles, line types, arrow heads, etc).</li>
                            <li>Acronyms and abbreviations (business/domain or technology) should be understandable by all audiences, or explained in the diagram key/legend.</li>
                        </ul>
                    </div>
                    <div class="col-xs-4">
                        <h4>Elements</h4>
                        <ul style="line-height: 150%">
                            <li>The type of every element should be explicitly specified (e.g. Person, Software System, Container or Component).</li>
                            <li>Every element should have a short description, to provide an "at a glance" view of key responsibilities.</li>
                            <li>Every container and component should have a technology explicitly specified.</li>
                        </ul>
                    </div>
                    <div class="col-xs-4">
                        <h4>Lines</h4>
                        <ul style="line-height: 150%">
                                <li>Every line should represent a unidirectional relationship.</li>
                                <li>Every line should be labelled, the label being consistent with the direction and intent (e.g. dependency or data flow) of the relationship.</li>
                                <li>Relationships between containers (typically these represent inter-process communication) should have a technology/protocol explicitly labelled.</li>
                            </ul>
                        </div>
                </div>

                <div class="alert alert-info" role="alert">
                    <span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span>
                    Remember, the notation you use can make or break a diagram!
                </div>

            </div>
        </div>

        <div class="section">
            <div class="container">
                <a name="metamodel"></a>
                <h2>Metamodel</h2>
                <p>
                    If you're interested in using the C4 model or building tooling to support it, here is some information about the basic metamodel.
                </p>

                <h3>Elements and relationships</h3>
                <table class="table table-striped small">
                    <tr>
                        <th>Element type</th>
                        <th>Parent</th>
                        <th>Properties</th>
                    </tr>
        
                    <tr>
                        <td><b>Person</b></td>
                        <td>None</td>
                        <td>
                            <ul>
                                <li>Name<sup>*</sup></li>
                                <li>Description</li>
                                <li>Location (Internal or External)</li>
                            </ul>
                        </td>
                    </tr>
        
                    <tr>
                        <td><b>Software System</b></td>
                        <td>None</td>
                        <td>
                            <ul>
                                <li>Name<sup>*</sup></li>
                                <li>Description</li>
                                <li>Location (Internal or External)</li>
                                <li>The set of containers that make up the software system</li>
                            </ul>
                        </td>
                    </tr>
        
                    <tr>
                        <td><b>Container</b></td>
                        <td>A software system</td>
                        <td>
                            <ul>
                                <li>Name<sup>*</sup></li>
                                <li>Description</li>
                                <li>Technology</li>
                                <li>The set of components within the container</li>
                            </ul>
                        </td>
                    </tr>
        
                    <tr>
                        <td><b>Component</b></td>
                        <td>A container</td>
                        <td>
                            <ul>
                                <li>Name<sup>*</sup></li>
                                <li>Description</li>
                                <li>Technology</li>
                                <li>The set of code elements (e.g. classes, interfaces, etc) that the component is implemented by</li>
                            </ul>
                        </td>
                    </tr>
        
                    <tr>
                        <td><b>Code Element</b></td>
                        <td>A component</td>
                        <td>
                            <ul>
                                <li>Name<sup>*</sup></li>
                                <li>Description</li>
                                <li>Fully qualified type</li>
                            </ul>
                        </td>
                    </tr>
        
                    <tr>
                        <td><b>Relationship</b><sup>**</sup></td>
                        <td></td>
                        <td>
                            <ul>
                                <li>Description</li>
                                <li>Technology</li>
                            </ul>
                        </td>
                    </tr>
                </table>
            
                <p class="small">
                    <sup>*</sup> All elements in the model must have a name, and that name must be unique within the parent context.
                    <br />
                    <sup>**</sup> Relationships are permitted between any elements in the model, in either direction.
                </p>

                <h3>Views</h3>
                <table class="table table-striped small">
                    <tr>
                        <th width="25%">View type</th>
                        <th width="25%">Scope</th>
                        <th width="25%">Permitted elements</th>
                        <th width="25%"></th>
                    </tr>
        
                    <tr>
                        <td><b>1. System Context</b></td>
                        <td>A software system.</td>
                        <td>
                            <ul>
                                <li>Software systems</li>
                                <li>People</li>
                            </ul>
                        </td>
                        <td class="centered">
                            <a href="./img/diagram-system-context.png"><img src="./img/diagram-system-context.png" alt="A System Context diagram" class="img-thumbnail" /></a>
                        </td>
                    </tr>
        
                    <tr>
                        <td><b>2. Container</b></td>
                        <td>A software system</td>
                        <td>
                            <ul>
                                <li>Software systems</li>
                                <li>People</li>
                                <li>Containers within the software system in scope</li>
                            </ul>
                        </td>
                        <td class="centered">
                            <a href="./img/diagram-container.png"><img src="./img/diagram-container.png" alt="A Container diagram" class="img-thumbnail" /></a>
                        </td>
                    </tr>
        
                    <tr>
                        <td><b>3. Component</b></td>
                        <td>A container</td>
                        <td>
                            <ul>
                                <li>Software systems</li>
                                <li>People</li>
                                <li>Other containers within the parent software system of the container in scope</li>
                                <li>Components within the container in scope</li>
                            </ul>
                        </td>
                        <td class="centered">
                            <a href="./img/diagram-component.png"><img src="./img/diagram-component.png" alt="A Component diagram" class="img-thumbnail" /></a>
                        </td>
                    </tr>

                    <tr>
                        <td><b>4. Code</b></td>
                        <td>A component</span></td>
                        <td>
                            <ul>
                                <li>Code elements (e.g. classes, interfaces, etc) that are used to implement the component in scope</li>
                            </ul>
                        </td>
                        <td></td>
                    </tr>
                </table>            
            </div>
        </div>

        <div class="section">
            <div class="container">
                <a name="faq"></a>
                <h2>Frequently asked questions</h2>

                <div class="row">
                    <div class="col-xs-6">
                        <h3>C4 and microservices?</h3>
                        <p>
                            Broadly speaking, there are two options for diagramming microservices when using the C4 model.
                        </p>

                        <ol>
                          <li><b>Microservices as software systems</b>: If your software system has a dependency upon a number of microservices that are outside of your control (e.g. they are owned and/or operated by a separate team), model these microservices as external software systems that you can't see inside of.</li>
                          <li><b>Microservices as containers</b>: On the other hand, if the microservices are a part of a software system that you are building (i.e. you own them), model them as containers, along with any data stores that those microservices use. In the same way that a modular monolithic application is a container with a number of components running inside it, a microservice is simply a container with a (smaller) number of components running inside it.</li>
                        </ol>
                    </div>
                    <div class="col-xs-6">
                        <h3>Large and complex software sytems?</h3>
                        <p>
                            Even with a relatively small software system, it's tempting to try and include the entire story on a single diagram. For example, if you have a web application, it seems logical to create a single component diagram that shows all of the components that make up that web application. Unless your software system really is that small, you're likely to run out of room on the diagram canvas or find it difficult to discover a layout that isn't cluttered by a myriad of overlapping lines. Using a larger diagram canvas can sometimes help, but large diagrams are usually hard to interpret and comprehend because the cognitive load is too high. And if nobody understands the diagram, nobody is going to look at it.
                        </p>
                        <p>
                            Instead, don't be afraid to split that single complex diagram into a larger number of simpler diagrams, each with a specific focus around a business area, functional area, functional grouping, bounded context, use case, user interaction, feature set, etc. The key is to ensure that each of the separate diagrams tells a different part of the same overall story, at the same level of abstraction.
                        </p>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-6">
                        <h3>C4 and arc42?</h3>
                        <p>
                            The C4 model is compatible with the <a href="http://arc42.org">arc42 documentation template</a> as follows.
                        </p>

                        <ul>
                          <li>Context and Scope =&gt; System Context diagram</li>
                          <li>Building Block View (level 1) =&gt; Container diagram</li>
                          <li>Building Block View (level 2) =&gt; Component diagram</li>
                          <li>Building Block View (level 3) =&gt; Class diagram</li>
                        </ul>
                    </div>
                    <div class="col-xs-6">
                        <h3>C4 vs UML, ArchiMate and SysML?</h3>
                        <p>
                            Although existing notations such as UML, ArchiMate and SysML already exist, many software development teams don't seem to use them.
                            Often this is because teams don't know these notations well enough, perceive them to be too complicated, think they are not compatible with agile approaches or don't have the required tooling.
                        </p>

                        <p>
                            If you are already successfully using one of these notations to communicate software architecture and it's working, stick with it. If not, try the C4 model.
                            And don't be afraid to supplement the C4 diagrams with UML state diagrams, timing diagrams, etc if you need to.
                        </p>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-6">
                        <h3>Change the terminology?</h3>
                        <p>
                            This terminology (context, containers, components and classes) works for many organisations and many types of software.
                            However, sometimes an organisation will have an existing terminology that people are already familiar with.
                            Or perhaps "components" and "classes" don't easily map on to the technology being used (e.g. functional languages often use the terms "module" and "function").
                            Feel free to modify the terminology that you use to describe software architecture at different levels of abstraction.
                            Just make sure that everybody explicitly understands it.
                        </p>
                    </div>
                    <div class="col-xs-6">
                    </div>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="container">
                <a name="examples"></a>
                <h2>Examples</h2>
                <p>
                    Here are some collections of example software architecture diagrams based upon the C4 model.
                </p>

                <div class="row">
                    <div class="col-sm-2">
                        <p>
                            <a href="https://structurizr.com/share/36141#LiveDeployment"><img src="./img/example-big-bank-plc.png" alt="Big Bank plc" class="img-thumbnail" /></a>
                        </p>
                        <p class="small centered">
                            Big Bank plc
                            <br />
                            <span class="smaller centered">
                            (System Landscape, System Context, Container, Component, Dynamic and Deployment)
                            </span>
                        </p>
                    </div>
                    <div class="col-sm-2">
                        <p>
                            <a href="https://structurizr.com/share/31"><img src="./img/example-financial-risk-system.png" alt="Financial Risk System" class="img-thumbnail" /></a>
                        </p>
                        <p class="small centered">
                            Financial Risk System
                            <br />
                            <span class="smaller centered">
                            (System Context)
                            </span>
                        </p>
                    </div>
                    <div class="col-sm-2">
                        <p>
                            <a href="https://structurizr.com/share/1#components"><img src="./img/example-spring-petclinic-home.png" alt="Spring PetClinic" class="img-thumbnail" /></a>
                        </p>
                        <p class="small centered">
                            Spring PetClinic
                            <br />
                            <span class="smaller centered">
                            (System Context, Container, Component, Dynamic and Deployment)
                            </span>
                        </p>
                        </div>
                    <div class="col-sm-2">
                        <p>
                            <a href="https://structurizr.com/share/4241#CustomerUpdateEvent"><img src="./img/example-message-bus-and-microservices.png" alt="Message bus and microservices" class="img-thumbnail" /></a>
                        </p>
                        <p class="small centered">
                            Message bus and microservices
                            <br />
                            <span class="smaller centered">
                            (Container and Dynamic)
                            </span>
                        </p>
                        </div>
                    <div class="col-sm-2">
                        <p>
                            <a href="https://structurizr.com/share/14471#SystemLandscape"><img src="./img/example-widgets-limited.png" alt="Widgets Limited" class="img-thumbnail" /></a>
                        </p>
                        <p class="small centered">
                            Widgets Limited
                            <br />
                            <span class="smaller centered">
                            (System Landscape, System Context and Dynamic)
                            </span>
                        </p>
                        </div>
                    <div class="col-sm-2">
                        <p>
                            <a href="https://structurizr.com/share/9581#3"><img src="./img/example-contoso-university.png" alt="Contoso University" class="img-thumbnail" /></a>
                        </p>
                        <p class="small centered">
                            Contoso University
                            <br />
                            <span class="smaller centered">
                            (System Context, Container, Component and Dynamic)
                            </span>
                        </p>
                        </div>
                </div>            
            </div>
        </div>
    
        <div class="section">
            <div class="container">
                <a name="moreInformation"></a>
                <h2>More information</h2>
                <p>
                    The following resources are recommended if you're looking for more information about
                    visualising software architecture and the C4 model.
                </p>

                <div class="row">
                    <div class="col-xs-6 centered">
                        <p class="embed-responsive embed-responsive-16by9 centered img-thumbnail">
                            <iframe src="https://www.youtube.com/embed/m76bR16EhrU" frameborder="0" allowfullscreen></iframe>
                        </p>
        
                        <p class="small">
                            This is a recording of Simon Brown's talk at the OpenSlava conference in Bratislava, Slovakia during October 2017 (35 minutes).
                        </p>
                    </div>
                    <div class="col-xs-6 centered">
                        <p class="embed-responsive embed-responsive-16by9 centered img-thumbnail">
                            <iframe src="https://www.youtube.com/embed/aPtT2GNu8vM" frameborder="0" allowfullscreen></iframe>
                        </p>
        
                        <p class="small">
                            This is a recording of Simon Brown's keynote at the Voxxed Days conference in Athens, Greece during May 2017 (60 minutes).
                        </p>
                    </div>
                </div>
 
                <div class="row">
                    <div class="col-xs-4 centered">
                        <p>
                            <a href="https://leanpub.com/b/software-architecture"><img src="./img/sa4d-2.png" alt="Software Architecture for Developers: Volumes 1 & 2" class="img-thumbnail" /></a>
                        </p>

                        <p class="small">
                            This is Simon Brown's <a href="https://leanpub.com/b/software-architecture">Software Architecture for Developers</a> (Volume 2) ebook,
                            which is available to purchase from Leanpub as an ebook in PDF, EPUB and MOBI formats.
                            It's a short guide to visualising, documenting and exploring your software architecture.
                        </p>
                    </div>
                    <div class="col-xs-4 centered">
                        <p>
                            <a href="https://www.voxxed.com/blog/2014/10/simple-sketches-for-diagramming-your-software-architecture/"><img src="./img/voxxed-simple-sketches.png" alt="Simple Sketches for Diagramming Your Software Architecture" class="img-thumbnail" /></a>
                        </p>

                        <p class="small">
                            This is a short article written for Voxxed that summarises the C4 model.
                        </p>
                    </div>
                    <div class="col-xs-4 centered">
                        <p>
                            <a href="./assets/visualising-software-architecture.pdf"><img src="./img/visualising-software-architecture.png" alt="A summary of the C4 model and tips for visualising software architecture" class="img-thumbnail" /></a>
                        </p>

                        <p class="small">
                            And here is a one-page cheat sheet (downloadable as an A3 poster in PDF format) that summarises how to visualise software architecture using the C4 model.
                        </p>
                    </div>
                </div>

                <p class="small centered">
                    There are also some podcasts with Simon Brown, where he discusses the C4 model; including
                    <a href="https://softwareengineeringdaily.com/2017/06/20/software-architecture-with-simon-brown/">Software Engineering Daily</a> and
                    <a href="http://www.se-radio.net/2015/06/episode-228-software-architecture-sketches-with-simon-brown/">Software Engineering Radio</a>.
                </p>
            </div>
        </div>

        <div class="section">
            <div class="container">
                <a name="training"></a>
                <h2>Training</h2>
                <p>
                    "Visualising software architecture with the C4 model" is a hands-on, 1-day workshop with Simon Brown that focusses on the visualisation and communication of software architecture using the C4 model.
                    The core of this workshop can be based upon a simple case study (an architecture kata) or your own software systems.
                </p>

                <h5>Abstract</h5>
                <p>
                    It's very likely that the majority of the software architecture diagrams you've seen are a confused mess of boxes and lines. Following the publication of the Manifesto for Agile Software Development in 2001, teams have abandoned UML, discarded the concept of modelling and instead place a heavy reliance on conversations centered around incoherent whiteboard diagrams or shallow "Marketecture" diagrams created with Visio. Moving fast and being agile requires good communication, yet software development teams struggle with this fundamental skill. A good set of software architecture diagrams are priceless for aligning a team around a shared vision and for getting new-joiners productive fast.
                </p>
                <p>
                    This hands-on workshop explores the visual communication of software architecture and is based upon a decade of my experiences working with software development teams large and small across the globe. We'll look at what is commonplace today, the importance of creating a shared vocabulary, diagram notation, and the value of creating a lightweight model to describe your software system. The workshop is based upon the "C4 model", which I created as a way to help software development teams describe and communicate software architecture, both during up-front design sessions and when retrospectively documenting an existing codebase. It's a way to create maps of your code, at various levels of detail. Static structure, runtime and deployment diagrams are all covered, so you'll be able to tell different stories to different audiences. We'll wrap up the day by looking at the tooling landscape and diagram automation to keep your diagrams in sync with your source code.                
                </p>

                <h5>Learning outcomes</h5>
                <p>
                    This 1-day workshop will give you some pragmatic, practical and lightweight techniques that you can apply to your work the very next day. You'll learn why most software architecture diagrams are meaningless, how to critique them, how to fix them and how to use the C4 model to create a simple yet powerful set of developer-friendly diagrams to describe software architecture.
                </p>
                
                <h5>Target audience</h5>
                <p>
                    Software developers and architects; all levels of experience.
                </p>
                
                <h5>Pre-requisites</h5>
                <p>
                    Some experience building software; no laptops needed.
                </p>

                <h5>Timings</h5>
                <p>
                    The exact timings are flexible, but most courses are typically 09:00-17:00, with a 20-30 minute coffee break mid-morning and mid-afternoon,
                    plus an hour for lunch.
                </p>
            
                <h3>Pricing</h3>
                <p>
                    The pricing model is "per day" rather than "per attendee", based upon location.
                    The class size is flexible; the recommended number of people is between 10 and 30, although previous courses have been run for between 5 and 150 people.
                    From a logistics point of view, all that is needed is a room with a projector and some whiteboards/flip chart paper.
                    This workshop is occasionally run publicly via training providers or conferences but most are private, on-site workshops held directly with organisations.
                </p>
                <p>
                    Please <a href="mailto:simon.brown@codingthearchitecture.com?subject=Training%20-%20C4%20model" target="_blank">e-mail Simon Brown</a> for more details and pricing.
                </p>
            </div>
        </div>    

        <div class="section">
            <div class="container">
                <a name="tooling"></a>
                <h2>Tooling</h2>
                <p>
                    The following modelling and drawing tools can help create software architecture diagrams based upon the C4 model.
                </p>

                <div class="row">
                    <div class="col-xs-2 centered">
                        &nbsp;
                    </div>
                    <div class="col-xs-4 centered">
                        <p>
                            <a href="https://structurizr.com"><img src="./img/structurizr.png" alt="Structurizr" class="img-thumbnail" /></a>
                        </p>

                        <h3>Structurizr</h3>
                        <p class="small">
                            <a href="https://structurizr.com">Structurizr</a> is a collection of tooling to help you visualise, document and explore your software architecture.
                            It's an implementation of the C4 model and allows you to create software architecture models using Java/C# and supplementary documentation using Markdown/AsciiDoc.
                        </p>
                    </div>
                    <div class="col-xs-4 centered">
                        <p>
                            <a href="https://structurizr.com/express?src=/static/express/bigbankplc/container.json"><img src="./img/structurizr-express.png" alt="Structurizr Express" class="img-thumbnail" /></a>
                        </p>

                        <h3>Structurizr Express</h3>
                        <p class="small">
                            <a href="https://structurizr.com/express?src=/static/express/bigbankplc/container.json">Structurizr Express</a> lets you quickly create individual diagrams from the C4 model, using a JSON/YAML text format.
                        </p>
                    </div>
                    <div class="col-xs-2 centered">
                        &nbsp;
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-4 centered">
                        <p>
                            <a href="https://github.com/structurizr/java/blob/master/docs/plantuml.md"><img src="./img/plantuml.png" alt="PlantUML" class="img-thumbnail" /></a>
                        </p>

                        <h3>PlantUML</h3>
                        <p class="small">
                            The open source <a href="https://github.com/structurizr/java/blob/master/docs/plantuml.md">Structurizr for Java</a> and <a href="https://github.com/structurizr/dotnet/blob/master/docs/plantuml.md">Structurizr for .NET</a> libraries
                            allow you to create a software architecture model and export it to the syntax used by PlantUML.
                        </p>
                    </div>
                    <div class="col-xs-4 centered">
                        <p>
                            <a href="https://github.com/structurizr/java/blob/master/docs/graphviz-and-dot.md"><img src="./img/graphviz.png" alt="Graphviz" class="img-thumbnail" /></a>
                        </p>

                        <h3>Graphviz</h3>
                        <p class="small">
                            The open source <a href="https://github.com/structurizr/java/blob/master/docs/graphviz-and-dot.md">Structurizr for Java</a> library 
                            allows you to create a software architecture model and export it to the DOT syntax used by Graphviz.
                        </p>
                    </div>
                    <div class="col-xs-4 centered">
                        <p>
                            <a href="https://github.com/merijndejonge/Structurizr.Dgml"><img src="./img/dgml.png" alt="DGML" class="img-thumbnail" /></a>
                        </p>

                        <h3>DGML</h3>
                        <p class="small">
                            When used in conjunction with the open source <a href="https://github.com/structurizr/dotnet">Structurizr for .NET</a> library, 
                            <a href="https://twitter.com/merijndejonge">Merijn de Jonge's</a> <a href="https://github.com/merijndejonge/Structurizr.Dgml">Structurizr.Dgml</a>
                            project allows you to create zoomable/expandable diagrams with DGML (Directed Graph Markup Language), which is natively supported by Visual Studio.
                        </p>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-4 centered">
                        <p class="embed-responsive embed-responsive-16by9 centered">
                            <iframe src="https://www.youtube.com/embed/6LysS5A5bU8" frameborder="0" allowfullscreen class="img-thumbnail" style="border: 1px solid #dddddd"></iframe>
                        </p>

                        <h3>Sparx Enterprise Architect</h3>
                        <p class="small">
                            LieberLieber Software has built an <a href="http://www.sparxsystems.eu/c4/">extension for the C4 model</a>, based upon the MDG Technology built into Sparx Enterprise Architect.
                        </p>
                    </div>
                    <div class="col-xs-4 centered">
                        <p>
                            <a href="https://stenciltown.omnigroup.com/stencils/c4/"><img src="./img/omnigraffle.png" alt="Omnigraffle" class="img-thumbnail" /></a>
                        </p>

                        <h3>OmniGraffle</h3>
                        <p class="small">
                            <a href="https://twitter.com/dennislaumen">Dennis Laumen</a> has created a <a href="https://stenciltown.omnigroup.com/stencils/c4/">C4 stencil for OmniGraffle</a>, that allows you to create diagrams using pre-built shapes.
                        </p>
                    </div>
                    <div class="col-xs-4 centered">
                        <p>
                            <a href="https://github.com/tobiashochguertel/c4-draw.io"><img src="./img/drawio.png" alt="draw.io" class="img-thumbnail" /></a>
                        </p>

                        <h3>draw.io</h3>
                        <p class="small">
                            <a href="https://twitter.com/thochguertel">Tobias Hochgürtel</a> has created a <a href="https://github.com/tobiashochguertel/c4-draw.io">C4 plugin for draw.io</a>, that allows you to create diagrams using pre-built shapes.
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <div id="footer">
            <div class="container">
            <p>
                <a href="http://simonbrown.je"><img src="./img/simonbrown.jpg" width="40px" alt="Simon Brown" class="img-circle" style="margin-right: 5px;" /></a>
                <a href="https://twitter.com/simonbrown">@simonbrown</a>
                |
                <a href="http://simonbrown.je">simonbrown.je</a>
                |
                <a href="mailto:simon.brown@codingthearchitecture.com" target="_blank">simon.brown@codingthearchitecture.com</a>
            </p>
            </div>
        </div>

    </div>

</body>
</html>