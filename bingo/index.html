<!DOCTYPE html>
<html lang="en">
<head>
    <title>Diagram bingo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link href="../css/bootstrap-3.3.2.min.css" rel="stylesheet" media="screen">
    <link href="../css/bootstrap-theme-3.3.2.min.css" rel="stylesheet" media="screen">
    <link href="../css/c4model.css" rel="stylesheet" media="screen">
    <link href='../css/open-sans.css' rel='stylesheet' type='text/css' />

    <script src="../js/jquery-2.0.3.min.js"></script>
    <script src="../js/bootstrap-3.3.2.min.js"></script>

    <style>
        .table>tbody>tr {
            height: 150px;
        }
        .table>tbody>tr>td {
            border: solid 1px black;
            text-align: center;
            vertical-align: middle;
            width: 20%;
        }

        #diagram {
            display: none;
            margin-bottom: 20px;
        }

        .square {
            cursor: pointer;
        }
        .yes {
            background: #438DD5;
            color: #ffffff;
        }
    </style>
</head>


<body>
    <div id="content">

        <div id="header">
            <div class="container">
                <h1>Diagram bingo</h1>
            </div>
        </div>

        <div class="section">
            <div class="container">
                <div id="diagram"><img src="" class="img-thumbnail" /></div>

                <table width="100%" class="table">
                    <tr>
                        <td id="square1" class="square"></td>
                        <td id="square2" class="square"></td>
                        <td id="square3" class="square"></td>
                        <td id="square4" class="square"></td>
                        <td id="square5" class="square"></td>
                    </tr>
                    <tr>
                        <td id="square6" class="square"></td>
                        <td id="square7" class="square"></td>
                        <td id="square8" class="square"></td>
                        <td id="square9" class="square"></td>
                        <td id="square10" class="square"></td>
                    </tr>
                    <tr>
                        <td id="square11" class="square"></td>
                        <td id="square12" class="square"></td>
                        <td id="square13">
                            <a href="https://c4model.com" target="_blank" style="text-decoration: none;">
                            <div style="font-size: 30px">C4 model</div>
                            <div style="font-size: 15px">for visualising software architecture</div>
                            </a>
                        </td>
                        <td id="square14" class="square"></td>
                        <td id="square15" class="square"></td>
                    </tr>
                    <tr>
                        <td id="square16" class="square"></td>
                        <td id="square17" class="square"></td>
                        <td id="square18" class="square"></td>
                        <td id="square19" class="square"></td>
                        <td id="square20" class="square"></td>
                    </tr>
                    <tr>
                        <td id="square21" class="square"></td>
                        <td id="square22" class="square"></td>
                        <td id="square23" class="square"></td>
                        <td id="square24" class="square"></td>
                        <td id="square25" class="square"></td>
                    </tr>
                </table>
            </div>
        </div>
    </div>

    <script>
        var squares = [
            'No diagram title',
            'No diagram key/legend',
            'Incomplete key/legend',
            'Boxes only, no lines',
            'Stacked boxes to represent scaling',
            'Lines without arrowheads',
            'Unexplained border styles',
            'Unexplained box colours',
            'Unexplained text colours',
            'Unexplained line colours',
            'Unexplained line styles',
            'Unexplained symbols/icons',
            'Unexplained shapes',
            'Unexplained arrowheads',
            'Different box sizes',
            'Missing technology choices',
            'Horizontal and vertical "layers"',
            'Two-way arrows',
            'Unlabelled arrows',
            'Unlabelled boxes',
            'Mixed abstractions',
            'Ambiguous abstractions',
            'Unexplained grouping of boxes',
            'Acronyms',
            'Crossed out boxes/lines',
            'Writing upside-down',
            'Anonymous users',
            'A box labelled "Business Logic"',
            'A box labelled "Security"',
            'A box labelled "Error"',
            'A cloud shape',
            'A clock symbol',
            'The text "..."',
            'Crossing lines',
            'Unreadable handwriting',
            'Unexplained numbers',
            'A question mark',
            'An animal'
        ]

        function getRandomInt(max) {
            max--;
            return Math.floor(Math.random() * (max + 1));
        }

        var board = $('#bingoBoard');
        
        for (var i = 0; i < 25; i++) {
            if (i == 12) {
                // do nothing
            } else {
                var random = getRandomInt(squares.length);
                var square = squares[random];
                squares.splice(random, 1)
                $('#square' + (i+1)).text(square);
            }
        }

        $('.square').click(function() {
            $(this).toggleClass('yes');
        })

        var diagram = new URLSearchParams(window.location.search).get('diagram');
        if (diagram) {
            $('#diagram>img').attr('src', diagram);
            $('#diagram').css('display', 'block');
        }
    </script>

</body>
</html>